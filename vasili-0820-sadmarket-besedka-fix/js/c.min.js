$(document).ready(function(){$("form.has-calculator").change(function(){var a=this,b=$("input[name='product']",a).val(),c=$("input[name='duga']:checked",a).val(),d=$("input[name='length']:checked",a).val(),e=$("input[name='polycarbonate']:checked",a).val(),f=$("input[name='additional[]']:checked",a),g=0;g+=calculator.products[b][c][d][e],f.each(function(a,b){g+=calculator.additional[$(b).val()]});var h=$("input[name='color']:checked",a).val(),i=$(".catalog__price",a),j=$(".calculator-price",a),k=$(".calculator-price-old",a),l="pulse";i.addClass("animated faster "+l),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.removeClass("animated faster "+l)});var m=0<j.data("animateFrom")?j.data("animateFrom"):0;$({animateNumber:m}).animate({animateNumber:g},{duration:800,step:function(a){j.text((+a).toFixed()),k.text((+(1.27*a)).toFixed())},complete:function(){j.data("animateFrom",(+g).toFixed())}});var n="img/card/"+b+"_"+c+"_"+d+"_"+h+".jpg",o=b+"_"+c+"_"+d+"_"+h;if("undefined"!=typeof IMAGE_SRC[o])$("img.card-image",this).attr("src",IMAGE_SRC[o]);else{var p=document.createElement("img");p.src=n,p.onload=function(){console.log(n),$("img.card-image",a).attr("src",n)},p.onerror=function(){console.log("img/card/default/"+b+"_"+c+".jpg"),$("img.card-image",a).attr("src","img/card/default/"+b+"_"+c+".jpg")}}}),$("form.has-calculator").change(),$("input.additionalRadioChange").change(function(){var a=!!$(this).val();$(this).closest(".catalog__parameter").find("input[type=\"checkbox\"]").prop("checked",a)})});