if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}(function(bp,s,aZ){var aP=false,B="95",bK=42,o=bp.roistatHost,ae="0.2",J="1.0",bj="roistat_visit",ap="roistat_first_visit",P="roistat_is_need_listen_requests",cb="roistat_phone",ad="roistat_referrer",bS="roistat_marker",aF="roistat_marker_old",bV="roistat_referrer_old",aV="roistat_ab",bE="rs",t="roistat",F="leadhunter_expire",y=5*60*60,a0="roistat_leadHunterEnabled",d=7*24*60*60,bM={expires:d,path:"/"},K="roistat-promo",R="roistat-phone",r="roistat-phone-country",L="roistat-phone-region",u="roistat-phone-number",b4="roistat-phone-tel",a5="country",aj="region",aJ="number",bf="tel",j="roistat_call_tracking",C="roistat-js-script",aT="roistat_phone_replacement",aK="roistat_phone_script_data",bJ="roistat-visit-id",aq="roistat_metrika_counter_id",g="roistat_marker_from_referrer",aS="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",a2="roistat_emailtracking_emails",b6="roistat_proxy_forms",bN="roistat_isMultiDomain",bG=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bk="roistat_debug",au="roistat_settings_saved",bv="nocookie",ar=["yandex.ru"],ab="beta_test";var bY=o.replace(/^cloud\./,"");var bT="collector."+bY;var bc={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bl={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var bL={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bp.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")
}return}bp.roistatAlreadyStarted=true;if(bp.roistatCookieDomain){bM.domain=bp.roistatCookieDomain}bp.roistat={version:B,getSource:function(){return bl.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(cg){bl.visitFromUser=cg},registerOnVisitProcessedCallback:function(cg){bC(cg)},registerOnCalltrackingPhoneReceivedCallback:function(cg){aQ(cg)},disableCallTracking:function(){bc.callTrackingEnabled=false},setCallTrackingManualMode:function(){bc.callTrackingManual=true},setJSONPRequestTimeout:function(cg){bc.jsonpRequestTimeout=cg},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){n("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null,},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null,}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]}};var G=function(){return h(ab)>0};var bC=function(cg){if(!bl.isVisitProcessed){bL.onVisitProcessed.push(cg)}else{cg()}};var bH=function(){bl.isVisitProcessed=true;n("[Roistat] visit id set. Processing callbacks");var ch=bL.onVisitProcessed.length;for(var cg=0;cg<ch;cg++){bL.onVisitProcessed[cg]()}if(bp.roistatVisitCallback!==aZ){bp.roistatVisitCallback(bp.roistat.getVisit())}};var aQ=function(cg){bL.onCallTrackingPhoneReceived.push(cg)};var bZ=function(){var ch=bL.onCallTrackingPhoneReceived.length;for(var cg=0;cg<ch;cg++){bL.onCallTrackingPhoneReceived[cg]()}};var X=function X(cg){bL.onSPAPageChanged.push(cg)};var bh=function bh(){n("[Roistat] SPA page changed. Processing callbacks");var ch=bL.onSPAPageChanged.length;for(var cg=0;cg<ch;cg++){bL.onSPAPageChanged[cg]()}};var N=function(ck,cj){var ci=ck.className.split(" "),ch=false,cg;for(cg=0;cg<ci.length;cg++){if(ci[cg]===cj){ch=true;break}}if(!ch){ci.push(cj);ck.className=ci.join(" ")}};var bi=function(cj,ci){var ch=cj.className.split(" "),cg;for(cg=0;cg<ch.length;cg++){if(ch[cg]===ci){ch.splice(cg,1);cj.className=ch.join(" ");break}}};var aa=function(ch){try{return decodeURIComponent(ch)}catch(ci){var cg;cg=p(ch);if(cg===null){return ch}return cg}};var ba={visitor_uid:function(){n("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cf(bp.AMOPIXEL_IDENTIFIER)||!A(bp.AMOPIXEL_IDENTIFIER.getVisitorUid)){n("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var cg=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!at(cg)){n("AmoCrmUID: visitor_uid value must be a string");return null}return cg}};var Z=function(){for(var ch in ba){var cg=ba[ch]();if(cg===null){continue}b5(ch,cg,bM)}};var aG=function(){return["_ym_uid","_ga"].concat(v(ba))};var p=function(ck){var cj={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var ch="";var ci=0;while(ci<ck.length){var cg=ck.substring(ci,ci+3);if(Object.prototype.hasOwnProperty.call(cj,cg)){ch+=cj[cg];ci+=3}else{ch+=ck.substring(ci,ci+1);ci++}}try{return decodeURIComponent(ch)}catch(cl){return null}};bp.roistatVersion=B;var aU,bx=true,bB=s.location.href,aH="",an="",aN=new Date().getTime(),bR=false,bF=bp.roistatPhonePrefix?bp.roistatPhonePrefix:"",cc=bp.roistatPhonePrefixBind?bp.roistatPhonePrefixBind:"",z=bp.roistatCalltrackingScripts&&bp.roistatCalltrackingScripts.join?bp.roistatCalltrackingScripts.join(","):"";var h,b5;h=bp.roistatGetCookie=function(cg){var ch=s.cookie.match(new RegExp("(?:^|; )"+cg.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return ch?aa(ch[1]):aZ};b5=bp.roistatSetCookie=function(cj,cl,ci){ci=ci||{};var ch=ci.expires;if(typeof ch=="number"&&ch){var cn=new Date();cn.setTime(cn.getTime()+ch*1000);ch=ci.expires=cn}if(ch&&ch.toUTCString){ci.expires=ch.toUTCString()}cl=encodeURIComponent(cl);var cg=cj+"="+cl;
for(var ck in ci){cg+="; "+ck;var cm=ci[ck];if(cm!==true){cg+="="+cm}}s.cookie=cg};var aY=function(ch,cj,ci){var cg=ch[cj];ch[cj]=function(){if(cg){cg.apply(this,arguments)}ci.apply(this,arguments)}};var I=function(ci,ch,cj){if(ci.addEventListener){ci.addEventListener(ch,cj,false);return}var cg="on"+ch;if(ci.attachEvent){ci.attachEvent(cg,cj);return}if(cg in ci){aY(ci,cg,cj);return}if(ch in ci){aY(ci,ch,cj);return}n("Handler could not be attached")};var l=function(cj,ci){var ch=cj.length;for(var cg=0;cg<ch;cg++){ci(cj[cg])}};var v=function(cg){var ch=[];aM(cg,function(ci,cj){ch.push(ci)});return ch};var aM=function(cg,ci){for(var ch in cg){if(Object.prototype.hasOwnProperty.call(cg,ch)){ci(ch,cg[ch])}}};var aR=function(cg){return Object.prototype.toString.call(cg)==="[object Array]"};var ak=function(ch){if(typeof ch!=="object"){return false}for(var cg in ch){if(ch.hasOwnProperty(cg)){return true}}return false};var b1=function(ch){try{var cg=JSON.parse(ch);if(cg&&typeof cg==="object"){return cg}}catch(ci){}return null};if(s.getElementsByClassName==aZ){s.getElementsByClassName=function(ch){var cg=[];var cm=new RegExp("\\b"+ch+"\\b");var ck=this.getElementsByTagName("*");for(var cj=0;cj<ck.length;cj++){var ci=ck[cj].className;if(cm.test(ci)){cg.push(ck[cj])}}return cg}}var ac=function(){return String.fromCharCode};var bI=function(ci){var cg="";for(var ch=0;ch<ci.length;++ch){cg+=ac()(bK^ci.charCodeAt(ch))}return cg};var ah=function(cg){return encodeURIComponent(bI(bs.encode(cg)))};var bs={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(ci){var cg="";var cp,cn,cl,co,cm,ck,cj;var ch=0;ci=bs._utf8_encode(ci);while(ch<ci.length){cp=ci.charCodeAt(ch++);cn=ci.charCodeAt(ch++);cl=ci.charCodeAt(ch++);co=cp>>2;cm=((cp&3)<<4)|(cn>>4);ck=((cn&15)<<2)|(cl>>6);cj=cl&63;if(isNaN(cn)){ck=cj=64}else{if(isNaN(cl)){cj=64}}cg=cg+this._keyStr.charAt(co)+this._keyStr.charAt(cm)+this._keyStr.charAt(ck)+this._keyStr.charAt(cj)}return cg},decode:function(ci){var cg="";var cp,cn,cl;var co,cm,ck,cj;var ch=0;ci=ci.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(ch<ci.length){co=this._keyStr.indexOf(ci.charAt(ch++));cm=this._keyStr.indexOf(ci.charAt(ch++));ck=this._keyStr.indexOf(ci.charAt(ch++));cj=this._keyStr.indexOf(ci.charAt(ch++));cp=(co<<2)|(cm>>4);cn=((cm&15)<<4)|(ck>>2);cl=((ck&3)<<6)|cj;cg=cg+String.fromCharCode(cp);if(ck!=64){cg=cg+String.fromCharCode(cn)}if(cj!=64){cg=cg+String.fromCharCode(cl)}}cg=bs._utf8_decode(cg);return cg},_utf8_encode:function(ch){ch=ch.replace(/\r\n/g,"\n");var cg="";for(var cj=0;cj<ch.length;cj++){var ci=ch.charCodeAt(cj);if(ci<128){cg+=String.fromCharCode(ci)}else{if((ci>127)&&(ci<2048)){cg+=String.fromCharCode((ci>>6)|192);cg+=String.fromCharCode((ci&63)|128)}else{cg+=String.fromCharCode((ci>>12)|224);cg+=String.fromCharCode(((ci>>6)&63)|128);cg+=String.fromCharCode((ci&63)|128)}}}return cg},_utf8_decode:function(cg){var ci="";var ck=0;var cl=0;var cj=0;var ch=0;while(ck<cg.length){cl=cg.charCodeAt(ck);if(cl<128){ci+=String.fromCharCode(cl);ck++}else{if((cl>191)&&(cl<224)){cj=cg.charCodeAt(ck+1);ci+=String.fromCharCode(((cl&31)<<6)|(cj&63));ck+=2}else{cj=cg.charCodeAt(ck+1);ch=cg.charCodeAt(ck+2);ci+=String.fromCharCode(((cl&15)<<12)|((cj&63)<<6)|(ch&63));ck+=3}}}return ci}};var aW=function(){return s[ac()(99,111,111,107,105,101)]};var T=function(){b8();var cg={c:bW()};return ah(JSON.stringify(cg))};var bD=function(){var cg=k();return(cg===aZ||cg===null)?bv:cg};var bW=function(){var cg=[];for(var ch in bl.cookies){if(!Object.prototype.hasOwnProperty.call(bl.cookies,ch)){continue}cg.push(ch+"="+bl.cookies[ch])}return cg.join("; ")};var b8=function(){var cg=i();for(var ch in cg){if(!Object.prototype.hasOwnProperty.call(cg,ch)){continue}bl.cookies[ch]=cg[ch]}};var S=function(cg){b5(bS,cg,bM);bl.source.marker=cg};var O=function(){return h(bS)};var e=function(){aM(bp.roistat.page.params,function(ch,cg){bl.pageParams[ch]=cg})};var i=function(){var cj=aW();var ck=cj.split("; ");var cg={};for(var ci=0;ci<ck.length;ci++){var cn=ck[ci];if(cn===""){continue}var ch=cn.split("=");if(ch.length<2){continue}var cm=ch[0].trim();var cl=ch[1].trim();cg[cm]=cl}return cg};var f=function(){return ac()(104,97,115,104)};var ai=function(cg){return cg.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bg={isAvailable:function(){var cg=false;if(!bp.sessionStorage||!bp.sessionStorage.setItem||!bp.sessionStorage.getItem||!bp.sessionStorage.removeItem){return cg}try{bp.sessionStorage.setItem("testKey","testValue");cg=bp.sessionStorage.getItem("testKey")==="testValue";bp.sessionStorage.removeItem("testKey")}catch(ch){return false}return cg},remove:function(cg){if(this.isAvailable()){bp.sessionStorage.removeItem(cg)}},setObject:function(cg,ch){if(this.isAvailable()){bp.sessionStorage.setItem(cg,JSON.stringify(ch))}},getObject:function(ch){var cg=null;if(this.isAvailable()){cg=bp.sessionStorage.getItem(ch);cg=JSON.parse(cg)
}return cg},set:function(cg,ch){if(this.isAvailable()){bp.sessionStorage.setItem(cg,ch)}},get:function(ch){var cg=null;if(this.isAvailable()){cg=bp.sessionStorage.getItem(ch)}return cg}};var bn={isAvailable:function(){var cg=false;if(!bp.localStorage||!bp.localStorage.setItem||!bp.localStorage.getItem||!bp.localStorage.removeItem){return cg}try{bp.localStorage.setItem("testKey","testValue");cg=bp.localStorage.getItem("testKey")==="testValue";bp.localStorage.removeItem("testKey")}catch(ch){return false}return cg},remove:function(ch){if(this.isAvailable()){bp.localStorage.removeItem(ch)}else{var cg=new Date(1970,1,1);b5(ch,"",{expires:cg.toUTCString()})}},setObject:function(cg,ch){if(this.isAvailable()){localStorage.setItem(cg,JSON.stringify(ch))}},getObject:function(ch){var cg=null;if(this.isAvailable()){cg=localStorage.getItem(ch);cg=b1(cg)}return cg},set:function(cg,ch){if(this.isAvailable()){localStorage.setItem(cg,ch)}else{b5(cg,ch,bM)}},save:function(ch,ci,cg){if(this.isAvailable()){localStorage.setItem(ch,ci)}b5(ch,ci,cg)},get:function(ch){var cg=null;if(this.isAvailable()){cg=localStorage.getItem(ch)}if(cg===null){cg=h(ch)}return cg}};var be=function(){var cg=null;var ch=bn.get(ad);var ci=at(ch)?ch:s.referrer;if(ci){cg=ci}return cg};var A=function(cg){return typeof cg==="function"};var cf=function(cg){return typeof cg==="object"};var at=function(cg){return typeof cg==="string"};var D=function(cj,ci){ci=typeof ci!=="undefined"?ci:false;var ck=function(cn){var cm=null;var co=new RegExp("[#&?]("+cj+"=[^#&?]+)");if(co.test(cn)){cm=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var cl=aa(cm);return cm&&cl?cl:cm};var cg=ck(bB);if(ci){var ch=s.referrer;if(cg===null&&ch){cg=ck(ch)}}return cg};var bX=function(ch,ci){var cg=false;if(ch&&ci){cg=ch.split(ci).join("")!==ch}return cg};if(D(bk)==="1"||i()[bk]==="1"){aP=true}var aC=function(){if("https:"===s.location.protocol){return"https:"}else{return"http:"}};var bA=function(ch,cm,cn){var cj=s.createElement("iframe");var cl="roistat_"+new Date().getTime();s.body.appendChild(cj);cj.style.display="none";cj.setAttribute("name",cl);cj.setAttribute("id",cl);cj.contentWindow.name=cl;var ck=s.createElement("form");ck.target=cl;ck.action=ch;ck.method=cn;for(var ci in cm){if(!Object.prototype.hasOwnProperty.call(cm,ci)){continue}var cg=s.createElement("input");cg.type="hidden";cg.name=ci;cg.value=cm[ci];ck.appendChild(cg)}s.body.appendChild(ck);ck.submit()};var ao=function(ch){n("sendApiRequestJSONP: init with url "+ch);var cg=s.createElement("script");cg.onload=cg.onreadystatechange=function(){var cj=this.readyState?this.readyState:"unknown";n("sendApiRequestJSONP: script state changed to "+cj)};cg.src=ch;cg.type="text/javascript";cg.async=true;var ci=s.getElementsByTagName("script")[0];ci.parentNode.insertBefore(cg,ci);n("sendApiRequestJSONP: script appended")};var bz=function(){var ch=s.createElement("link"),cg=s.getElementsByTagName("head");ch.setAttribute("rel","stylesheet");ch.setAttribute("href",aC()+"//"+o+"/dist/module.css?"+B);if(cg.length>0){cg[0].appendChild(ch)}};var bt=function(){return bw()||cd()};var bw=function(){return aI()!==null};var cd=function(){return bq()!==null};var bQ=function(){var cg=bO();if(cg!==null){b5(bj,cg,bM)}};var bO=function(){return aI()||bq()||null};var aI=function(){return D("roistat_visit")};var bq=function(){return bl.visitFromUser};var a=function(cg){if(bl.isSettingsUpdating||!s.hasFocus()){n("Already updating settings or document not in focus, return");return}var ch=x()+"/get-settings?v="+B+"&visit="+cg;n("Request new settings");bl.isSettingsUpdating=true;ao(ch)};var al=function(){return bn.get(au)>0};var b2=function(){bn.set(au,1)};var b9=function(){n("Call: Init");n("Counter version: "+B);if(D("roistat_ab_demo")==="1"){n("Roistat initialisation rejected: ab test preview mode");return}bz();aL();E();if(!Q()||ce()){bR=true;a1()}else{bQ();var cg=k();a6();az();bP();roistat.visit=cg;bl.source.marker=O();var ch=al();if(!ch){a(cg)}else{bH()}}b0();M()};var aL=function(){n("Call: initMarker");aU=bu();n("Call: inited marker: "+aU)};var bd=function(ci){if(!ci){return true}var cg=aA(ci);var ch=aA(s.domain);if(cg===ch){return true}var cj=bb();if(cj===null){return false}if(bX(cg,cj)&&bX(ch,cj)){return true}return false};var bb=function(){if(typeof bM.domain==="string"&&bM.domain!==""){return aA(bM.domain)}return null};var aA=function(cg){var ch=cg.split("http://").join("").split("https://").join("").split("www.").join("");return ch.split("/")[0]};var bu=function(){var cl=h(g)>0;var cm=null;var ci=function(cp){return cp.split("_").join(":u:")};var co=function(cq){var cp=false;l(ar,function(cr){if(cq.indexOf(cr)>-1){cp=true}});return cp};var cn=function(){var cp=false;var cq;cq=D(t,cl);if(cq!==null){cm=cq;cp=true}cq=D(bE,cl);if(cq!==null){cm=cq;cp=true}return cp};var cj=function(){var cp=false;var cq=O();if(cq){cm=cq;cp=true;bx=false}return cp};var ch=function(){var cp=false;var cr=D("utm_source",cl);if(cr!==null){cp=true;cm=":utm:"+ci(cr);var ct=["utm_medium","utm_campaign","utm_content","utm_term"];
var cq;for(var cs=0;cs<ct.length;cs++){cq=D(ct[cs],cl);if(cq!==null){cm=cm+"_"+ci(cq)}}}return cp};var ck=function(){var cr,cq,cp=false;cq=D("_openstat",cl);if(!cq){return false}if(bX(cq,";")){cr=cq}else{cr=encodeURI(bs.decode(cq))}if(cr){cr=ci(cr).split(";").join("_");cm=":openstat:"+cr;cp=true}return cp};var cg=function(){var cp=false;var cq=s.referrer;if(bd(cq)){return cp}var cr=D("from",cl);if(cr!==null&&!bX(cr,"http")){if(!co(cr)){cp=true;cm=ci(cr)}}return cp};if(cn()){n("Init marker: init from RS param "+cm);return cm}if(ch()){n("Init marker: init from UTM "+cm);return cm}if(ck()){n("Init marker: init from OpenStat "+cm);return cm}if(cg()){n("Init marker: init from custom tag "+cm);return cm}n("Init marker: try init from cookie "+cm);cj();return cm};var k=function(){return bn.get(bj)};var E=function(){n("Call: saveReferrer");var cg=s.referrer;if(bd(cg)){return}bn.set(ad,cg)};var b0=function(){b5(aF,aa(aU),bM)};var M=function(){bn.set(bV,be())};var bP=function(){n("Call: refreshPromoCode");var cg=function(){return h(bj)};W(cg());if(!bp.onload){bp.onload=function(){W(cg())}}setTimeout(function(){W(cg())},50);setTimeout(function(){W(cg())},200);setTimeout(function(){W(cg())},2000);setTimeout(function(){W(cg())},10000)};bp.roistatPromoCodeRefresh=bP;var b3=function(){var cg=[];var ch=s.getElementsByClassName(K);if(ch&&ch.length){cg=ch}return cg};var W=function(cg){var cj=b3();n("setPromoCode: "+cg+" in "+cj.length+" elements");for(var ci=0;ci<cj.length;ci++){var ch=cj[ci];ch.innerHTML=cg?cg:""}};var a3=function(){var ci=bu(),ch=h(aF),ck=ci!==null,cj=true;var cm=aa(aa(ci)).toLowerCase().split("+").join(" "),cl=aa(aa(ch)).toLowerCase().split("+").join(" ");if(ci&&ch){cj=cm!==cl}var cg=ck&&cj;an="Call: needOverrideByMarker (result "+(cg?"true":"false")+") with current "+ci+":"+cm+" and old "+ch+":"+cl;n(an);return cg};var ag=function(){var ch=function(cq){return/[\u0400-\u04FF]/.test(cq)};var cp=false,cm=be(),cg=bn.get(bV),co=bp.location.host;if(!cm||!co){n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), skip because one of params is empty");return cp}co=aA(co);cm=aa(cm);cg=aa(cg);var ck=aA(cm);if(bX(cm,"xn--")&&ch(co)){n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), skip because of bugs with punycode in FF");return cp}if(!ck){n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), skip because current referrer is null");return cp}if(!cg){cp=!bX(ck,co);n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), compare current referrer and host");return cp}var cl=ax().replace(/\D/g,"");if(["62880344098715348341","0249529081644610205"].includes(cl)){if(!bX(ck,co)){cp=aU.indexOf("seo_")!==0&&aU.indexOf("site_")!==0;n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), marker is 'seo_' or 'site_' and ref != host");return cp}}if(bX(cm,cg)){n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), skip because the same referrer");return cp}var cn=co.split(".").length>2&&ck.split(".").length>2;var cj=bp.roistatCookieDomain!==aZ&&bp.roistatCookieDomain!==co;var ci=ck.split(".").slice(1).join(".")===co.split(".").slice(1).join(".");if(cn&&cj&&ci){n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+"), skip because sub domains of same domain");return cp}cp=!(bX(ck,co)||(bX(co,ck)));n("Call: needOverrideByReferrer (result "+(cp?"true":"false")+") referrerHost: "+ck+", currentHost: "+co);return cp};var a7=function(){return D("utm_nooverride")==="1"};var ce=function(){return !bt()&&!a7()&&(a3()||ag())};var a8=function(ch,cg){return(ch&&cg&&ch!=cg)};var aD=function(ci){var cg=["cookieExpire"];var ck=ci.leadHunterEnabled;if(!ck){if(bn.get(a0)>0){bn.set(a0,0)}}else{var cj={expires:y,path:"/"};if(bM.domain){cj.domain=bM.domain}b5(F,1,cj)}for(var ch in ci){if(!Object.prototype.hasOwnProperty.call(ci,ch)){continue}if(!ck&&ch.indexOf("leadHunter")>=0){continue}if(!V(cg,ch)){bn.set("roistat_"+ch,ci[ch])}}};var ca=function(ch,cj,cg,ci){aD(ch);roistat.callTracking.enabled=cj.enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=cg.email;roistat.emailtracking.trackingEmail=cg.trackingEmail;roistat.emailtracking.emails=cg.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=ci};bp.roistatModuleSetVisitCookie=function(cl,cr,cj,ch,cq,cg){n("Call: roistatModuleSetVisitCookie("+cl+")");var cn;if(typeof cj.cookieExpire!=="number"){cn=d}else{cn=cj.cookieExpire}var cm=h(bj);var cp={expires:cn,path:"/"};if(bM.domain){cp.domain=bM.domain}b5(bj,cl,cp);if(!(h(bj)>0)){bn.save(bj,cl,cp)}if(!bn.get(ap)){var ci={expires:10*365*24*60*60,path:"/"};if(bM.domain){ci.domain=bM.domain}bn.save(ap,cl,ci)}var co=cj.abTests;if((typeof co!=="undefined")&&bn.isAvailable()){bn.setObject("abTesting",co)}applyTests();var ck=cj.isNeedToListenRequests;if((typeof ck!=="undefined")&&bn.isAvailable()){bn.set(P,ck)}W(cl);if(cr){S(cr);b5(aF,cr,bM)}n("Call: pre renderPromoCode");az();bP();if(a8(cm,cl)){n("roistatModuleSetVisitCookie: visit changed from "+cm+" to "+cl)
}if(bp.roistatCallback!==aZ){bp.roistatCallback(cl,cr)}ca(cj,ch,cq,cg);roistat.callTracking.phone=ch.phone;roistat.callTracking.sessionTime=ch.sessionTime;roistat.callTracking.replacementClasses=ch.replacementClasses;roistat.callTracking.phoneScriptsJson=ch.scripts;roistat.visit=cl;bZ();b2();bH()};bp.roistatUpdateSettings=function(cg){n("Set settings.");bl.isSettingsUpdating=false;ca(cg.js_settings,cg.calltracking,cg.emailtracking,cg.proxy_forms);b2();bH()};var Q=function(){var cg;if(bp.roistatIsInitVisit===true){cg=false}else{cg=h(bj)>0}n("Call: alreadyVisited (return "+(cg?"true":"false")+")");return cg};var c=function(cg){return encodeURIComponent?encodeURIComponent(cg):encodeURI(cg)};var aw=function(){var cg=be();return cg?c(cg):""};var ax=function(){return bp.roistatProjectId};var x=function(){return aC()+"//"+o+"/api/site/"+J+"/"+ax()};var by=function(){var cg={expires:1,path:"/"};if(bM.domain){cg.domain=bM.domain}b5(aV,"",cg)};var a1=function(){n("Call: setVisitIdCookie");var ch=function(){var cp=ax(),cm=aw(),cj=bp.roistatIsInitVisit===true?k():0,co=h(aV),ck=bn.get(ap);co=co?co:"";ck=ck?ck:"";aU=aU&&(!ag()||bx)?aa(aa(aU)):"";var cn=encodeURIComponent(bB);n("Calltracking: enabled="+bc.callTrackingEnabled+",manual="+bc.callTrackingManual);var cl=JSON.stringify(bp.roistat.page.params);return x()+"/addVisit?v="+B+"&marker="+encodeURIComponent(aU)+"&visit="+cj+"&first_visit="+ck+"&phone_prefix="+bF+"&phone_prefix_bind="+cc+"&phone_scripts_bind="+z+"&referrer="+cm+"&page="+cn+"&ab="+c(co)+"&"+f()+"="+T()+(cl==="{}"?"":"&page_params="+encodeURIComponent(cl))+((!bc.callTrackingEnabled||bc.callTrackingManual)?"&call_tracking_disabled=1":"")};var cg=function(cj){setTimeout(function(){n("Call: setVisitIdCookie script creation after timeout");var ck=s.createElement("script");ck.onload=ck.onreadystatechange=function(){var cm=this.readyState?this.readyState:"unknown";n("Call: setVisitIdCookie script state changed to "+cm)};ck.src=cj;ck.type="text/javascript";ck.async=true;ck.id=C;var cl=s.getElementsByTagName("script")[0];cl.parentNode.insertBefore(ck,cl);n("Call: setVisitIdCookie appended "+((s.getElementById(C))?"true":"false"));n("Call: sendJSONPRequest to URL "+cj);by()},bc.jsonpRequestTimeout)};if(aU){S(aU)}Z();var ci=ch();cg(ci)};var a6=function(){n("Call: sendAbTests");var ch=function(){var cl=ax(),ck=h(bj);return aC()+"//"+o+"/site-api/"+ae+"/"+cl+"/visit/"+ck+"/addAbVariant"};var ci=h(aV);if(!ci){return}var cj=ch();cj=cj+"?ab="+c(ci);var cg=s.createElement("img");cg.src=cj;by()};var am={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(am.Android()||am.BlackBerry()||am.iOS()||am.Opera()||am.Windows())}};var av={isIE:function(ci,ck){var cl="IE",ch=s.createElement("B"),cg=s.documentElement,cj;if(ci){cl+=" "+ci;if(ck){cl=ck+" "+cl}}ch.innerHTML="<!--[if "+cl+']><b id="iecctest"></b><![endif]-->';cg.appendChild(ch);cj=!!s.getElementById("iecctest");cg.removeChild(ch);return cj}};var br=function(){return new Date().getTime()};var H=function(){var cg="";bp.onerror=function(cm,cl,ci,ck,cj){var ch=!ck?"":", column: "+ck;ch+=!cj?"":", error: "+cj;cg=cg+", Error: "+cm+", url: "+cl+", line: "+ci+ch};setTimeout(function(){var co=false,cp="";var ck=b3();for(var cn=0;cn<ck.length;cn++){var cj=ck[cn];if(cj!==null&&!cj.innerHTML){co=true;cp="Promo HTML: "+cj.innerHTML}}if(!(h(bj)>0)){co=true;cp=cp+"; roistat_visit = "+h(bj)}if(co){var ci=s.getElementById(C);var ch=ci?1:0;var cl=bp.navigator.userAgent;cp=encodeURIComponent(cp);var cm=s.createElement("img");cm.src=aC()+"//"+o+"/site-api/"+ae+"/"+ax()+"/debug?message="+cp+"&agent="+cl+"&"+f()+"="+T()+"&jserror="+cg+"&scriptResponse="+ch+"&version="+B+"&debug="+aH}},20000)};var aX=function(){var ci=s.getElementsByTagName("body");var cj=s.documentElement;var ch=0,ck=0;if(ci.length){var cg=ci[0];ch=bp.innerWidth||cj.clientWidth||cg.clientWidth;ck=bp.innerHeight||cj.clientHeight||cg.clientHeight}else{ch=bp.innerWidth||cj.clientWidth;ck=bp.innerHeight||cj.clientHeight}return{width:ch,height:ck}};var az=function(){var cl=s.getElementsByClassName("roistat-promo-wrap");if(cl.length){n("PromoCode: old promo code length - exit");return}var cj=function(){var cs=s.createElement("div");cs.innerHTML=roistatPromoCode;var cq=s.getElementsByTagName("body");if(cq.length){cq[0].appendChild(cs)}n("PromoCode: appended to body "+roistatPromoCode.length);var cr=s.getElementsByClassName("roistat-promo-wrap")[0];if(!cr){n("PromoCode: roistat-promo-wrap not found, skip");return}var cp=cr.style;var cn,co,cm;setInterval(function(){cn=aX();co=cr.offsetWidth;cm=cr.offsetHeight*2;switch(roistatPosition){case"top_left":cp.left=0;cp.top=0;break;case"top":cp.left=((cn.width-co)/2)+"px";cp.top=0;break;case"top_right":cp.right=0;
cp.top=0;break;case"left":cp.left=0;cp.top=((cn.height-cm)/2)+"px";break;case"right":cp.right=0;cp.top=((cn.height-cm)/2)+"px";break;case"bottom_left":cp.left=0;cp.bottom=0;break;case"bottom":cp.left=((cn.width-co)/2)+"px";cp.bottom=0;break;case"bottom_right":cp.right=0;cp.bottom=0;break;default:cp.left=0;cp.top=0}},500)};var cg=bn.getObject("promo_code_options");if(cg){bp.roistatPromoCode=cg.template;bp.roistatPosition=cg.position;cj()}else{var ck=s.getElementsByTagName("head")[0]||s.documentElement;var ci=s.createElement("script");ci.src=aC()+"//"+o+"/site-api/"+ae+"/"+ax()+"/getPromoCode";ck.insertBefore(ci,ck.firstChild);n("PromoCode: loading started");var ch=false;ci.onload=ci.onreadystatechange=function(){if(!ch&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){ch=true;ci.onload=ci.onreadystatechange=null;if(ck&&ci.parentNode){ck.removeChild(ci)}}if(!ch){return}n("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){n("PromoCode: is disabled");return}cg={template:roistatPromoCode,position:roistatPosition};bn.setObject("promo_code_options",cg);cj()}}};var V=function(ch,ci){for(var cg=0;cg<ch.length;cg++){if(ch[cg]===ci){return true}}return false};var n=function(ch){var ci=br()-aN;var cg="["+(ci/1000)+"s] "+ch;aH=aH+"; "+cg;if(typeof console!=="undefined"&&console.log&&aP){console.log(cg)}};var af=function af(){var ck=bp.onpopstate;var cl=bp.history.pushState;var cg=bp.history.replaceState;I(bp,"popstate",function cj(cm){n("[Roistat]: popstate event catch");bh();if(G()&&typeof ck==="function"){ck(cm)}});I(bp.history,"pushState",function ci(cn,co,cm){n("[Roistat]: pushState event catch");bh();if(G()&&typeof cl==="function"){cl.apply(this,[cn,co,cm])}});I(bp.history,"replaceState",function ch(cn,co,cm){n("[Roistat]: replaceState event catch");bh();if(G()&&typeof cg==="function"){cg.apply(this,[cn,co,cm])}})};(function a4(){af();if(bp.onRoistatModuleLoaded!==aZ&&typeof bp.onRoistatModuleLoaded==="function"){bp.onRoistatModuleLoaded()}})();b9();(function aB(){var d0="roistat-lh-form",cB="roistat-lh-form",d2="roistat-lh-head-text",cP="roistat-lh-head",cz="roistat-lh-thank-you",dg="roistat-lh-thank-you",cl="roistat-lh-close",cm="roistat-lh-submit",cZ="roistat-lh-hidden",dF="roistat-lh-wrap",cD="roistat-lh-popup-wrapper",df="roistat-lh-popup",dZ="roistat-lh-popup-iframe",d1="roistat-lh-agreement",da="roistat-lh-agreement roistat-lh-mobile",ed="roistat-lh-agreement-input",dQ="roistat-lh-agreement-link",cg="roistat-lh-agreement-doc",dW="roistat-lh-alert-row",dq="roistat-lh-agreement",c9="roistat-lh-popup-iframe",ds="roistat_leadHunterUrl",dS="roistat_leadHunterAppearanceUrl",c2="roistat_leadHunterTargetPagesList",cx="roistat_leadHunterCaught",cH="roistat_leadHunterFormTemplate_{version}",dz=17,cQ="roistat_leadHunterPulsatorTemplate",dO="roistat_leadHunterPulsatorSettings",dy="roistat_leadHunterMinTime",cT="roistat_leadHunterAutoShowTime",dw="roistat_leadHunterPulsatorEnabled",cU="roistat-lh-pulsator-icon",dh="roistat-lh-pulsator-fill",c7="roistat-lh-load-done",cC="roistat-lh-close-modal",dG="roistat-lh-setting-size",dX="roistat-lh-before-submit",dt="roistat-lh-before-submit-done",d4="roistat-lh-after-submit",dJ="roistat-lh-event-data",dK="roistat-lh-translate-form",dT="ru",ck="en";var cw=0.3,cI=0.001,cA=false,cL=0,cF=0,cM=0,d5=0,cK=0,dc=false,c0=false,cp=false,dl="",cJ,dV,dj,dr,dE,cO,ec,d9,dR,eb,cs,d6,dC,dk,c8,cv,cj,cY,cN,cV,dN;var d8={pulsator:{previousClass:""},leave:{isShowEnabled:false,},timeoutId:0};var cG=function(){return cH.split("{version}").join(dz)};var d3=function(ej){var ei=encodeURIComponent?encodeURIComponent:encodeURI;return ei(ej)};var cy=function(){if(!bn.isAvailable()){return}bn.remove(cH.split("_{version}").join(""));var ei;if(dz>1){for(ei=1;ei<dz;ei++){bn.remove(cH.split("{version}").join(ei.toString()))}}};var dI=function(){if(!bp.roistat.leadHunter.isEnabled){return false}if(bp.roistatLeadHunterInited){return false}bp.roistatLeadHunterInited=true;if(bn.get(a0)<1){n("LeadHunter: disabled");return false}return true};var cX=function(){cj=bn.get(ds);if(!cj){n("LeadHunter: not active cause of empty url");return false}cY=bn.get(dS);d5=bn.get(dy);cK=bp.roistat.leadHunter.form.autoShowTime===null?bn.get(cT):bp.roistat.leadHunter.form.autoShowTime;dc=bn.get(dw)==1;ci();return true};var ci=function(){if(bn.get(cx)>0){n("LeadHunter: not active because already caught");c0=true}if(!(h(F)>0)){n("LeadHunter: not active, expired for this visit");c0=true}};var eh=function(){var eo=function(ev,et){var es;if(bX(et,"*")){var eu=new RegExp(et.split("*").join(".*"));es=eu.test(ev)}else{es=ev===et}n("LeadHunter: compare current: "+ev+", setting: "+et+" with result = "+(es?1:0));return es};var ej=bn.get(c2),ei=bp.location.href,el=false,ek=false,eq="",em=0,ep;ep=ej?ej.split(","):[];if(!ei||ep.length===0){el=true}else{eq=ai(ei);var er;for(var en=0;en<ep.length;en++){er=ep[en].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");
if(/^!/.test(er)){if(eo(eq,er.split(/^!/).join(""))){ek=true;break}}else{em++;if(eo(eq,er)){el=true;break}}}}if(ek){n('LeadHunter: current page "'+eq+'" is disabled by list');return false}if(!el&&em>0){n('LeadHunter: current page "'+eq+'" is not listed');return false}n('LeadHunter: current page "'+ei+'", cleaned: "'+eq+'" is not disabled in '+ep.length+" list of pages");return true};var cq=function(){cV=dN.src;var ei={version:B,additionalNotifyEmail:bp.roistat.leadHunter.additionalNotifyEmail,projectKey:ax(),language:dl,visitId:bD(),moduleTargetOrigin:bp.location.origin,referrer:bp.location.href,windowWidth:bp.innerWidth||0,iframeWrapperWidth:dr.offsetWidth||0,sendRequestUrl:bn.get(ds),message:c7,};dN.contentWindow.postMessage(ei,cV);dx()};var c6=function(){cp=true;co("click");cq();dD()};var cn=function(){var ei=bp.location.hash;if(!ei){return}if(bX(ei,"roistat-lead-hunter")){c6()}};var c4=function cu(){n("LeadHunter: binding timeout");if(c0){n("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(cA){n("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(cK>0){var ei=(cL-br())+cK*1000;n("LeadHunter: binding timeout with delay "+ei+" ms");clearTimeout(d8.timeoutId);d8.timeoutId=setTimeout(function(){n("LeadHunter: form auto activate with autoTime = "+cK);if(!cA){cp=true;co("auto");cq();dD()}},ei)}else{n("LeadHunter: auto show time is not positive, feature disabled")}};var eg=function(ek,ej,ei){if(ek.addEventListener){ek.addEventListener(ej,ei,false)}else{if(ek.attachEvent){ek.attachEvent("on"+ej,ei)}else{n("Handler could not be attached")}}};var dU=function(){dR.onclick=dE.onclick=dn;eb.onclick=c1;if(d6){eg(d6,"click",db)}if(dC){eg(dC,"change",ee)}var ej=s.getElementsByClassName("roistat-lh-input");for(var em=0;em<ej.length;em++){eg(ej[em],"keyup",function(eo){eo=eo||event;var en=(eo.keyCode?eo.keyCode:eo.which);if(en==13){c1()}})}var ek=bp.onresize;bp.onresize=function(en){if(ek){ek(en)}dY(en)};if(!c0){var ei=s.onmouseout;s.onmouseout=function(en){if(ei){ei(en)}dB(en)}}if(dc){cJ.onmouseover=function(){N(cJ,"roistat-lh-pulsator-hover")};cJ.onmouseout=function(){bi(cJ,"roistat-lh-pulsator-hover")};cJ.onclick=function(){c6()}}var el=bp.onhashchange;bp.onhashchange=function(){if(el){el.apply(this,arguments)}cn()}};var ea=function(){if(dc){cJ.onmouseover=function(){N(cJ,"roistat-lh-pulsator-hover")};cJ.onmouseout=function(){bi(cJ,"roistat-lh-pulsator-hover")};cJ.onclick=function(){c6()}}dE.onclick=dn;dN=s.getElementById(c9);eg(dN,"load",function(){cq();d7()});var ej=bp.onresize;bp.onresize=function(el){if(ej){ej(el)}dY(el)};if(!c0){var ei=s.onmouseout;s.onmouseout=function(el){if(ei){ei(el)}dB(el)}}var ek=bp.onhashchange;bp.onhashchange=function(){if(ek){ek.apply(this,arguments)}cn()}};var dm=function(ej){var ei=s.getElementsByClassName(ej);if(ei.length>0){return ei[0]}else{return null}};var di=function(){var el=dm("roistat-lh-title");if(el&&roistat.leadHunter.form.title){el.innerHTML=roistat.leadHunter.form.title}var ej=dm("roistat-lh-sub-title");if(ej&&roistat.leadHunter.form.subTitle){ej.innerHTML=roistat.leadHunter.form.subTitle}var ek=dm("roistat-lh-thank-you");if(ek&&roistat.leadHunter.form.thankYouText){ek.innerHTML=roistat.leadHunter.form.thankYouText}var en=dm("roistat-lh-submit");if(en&&roistat.leadHunter.form.buttonText){en.value=roistat.leadHunter.form.buttonText}var em=dm("roistat-lh-text-label-name");if(em&&roistat.leadHunter.form.nameLabel){em.innerHTML=roistat.leadHunter.form.nameLabel}var ei=dm("roistat-lh-text-label-contact");if(ei&&roistat.leadHunter.form.contactLabel){ei.innerHTML=roistat.leadHunter.form.contactLabel}};var cE=function(ej,em,el){var ei;if(!ej){n("LeadHunter: deactivating, empty form")}else{n("LeadHunter: rendering hidden form")}if(bn.isAvailable()){dL(ej,em,el)}dE=s.createElement("div");dr=s.createElement("div");dr.innerHTML=ej;dE.className=cZ;dr.className=cZ;if(em&&dc&&el){ei=s.createElement("div");ei.innerHTML=em;cJ=ei.childNodes.item(0);dV=cJ.childNodes.item(1);dj=cJ.childNodes.item(2).childNodes.item(0);dV.setAttribute("style","background: "+el.button.background+";");dj.setAttribute("style","fill: "+el.button.color+";");d8.pulsator.previousClass=cJ.className;cJ.className=cZ;s.body.appendChild(cJ)}s.body.appendChild(dE);s.body.appendChild(dr);cO=s.getElementById(cP);ec=s.getElementById(cB);d9=s.getElementById(dg);dR=s.getElementById(cl);eb=s.getElementById(cm);cs=s.getElementById(d1);dC=s.getElementById(ed);d6=s.getElementById(dQ);dk=s.getElementById(cg);c8=s.getElementById(dW);cv=s.getElementById(dq);var ek=dm(cD);cN=ek&&ek.getAttribute("data-is-iframe");if(cN){ea()}else{di();dU();cn();d7()}};var ct=function(){var ei=bn.get(cG()),ek=bn.get(cQ),ej=bn.getObject(dO);bp.roistatLeadhunterForm=cE;if(!ei||!ej){n("LeadHunter: requesting form from server");ao(aC()+"//"+o+"/api/site/"+J+"/"+ax()+"/leadhunter-form?domain="+encodeURIComponent(s.domain))}else{bp.roistatLeadhunterForm(bs.decode(ei),bs.decode(ek),ej)}};var c3=function(){var ej=dr.clientWidth,ei=dr.clientHeight;
dr.setAttribute("style",dr.getAttribute("style")+" width: "+ej+"px; height: "+ei+"px;");if(ec!==null){ec.className=cZ}if(cO!==null){cO.className=cZ}if(cs!==null){cs.className=cZ}if(d9!==null){d9.setAttribute("style","width: "+ej+"px; height: "+ei+"px; display: table-cell;");d9.className=cz}setTimeout(function(){n("LeadHunter: close form after timeout");dn()},7000)};var dD=function(){var ej=Math.round((dP()-dr.clientHeight)/2);var ei=Math.round((ef()-dr.clientWidth)/2);dr.setAttribute("style","left: "+ei+"px; top: "+Math.max(0,ej)+"px;")};var co=function(ei){if(bp.roistat.leadHunter.onBeforeAppear){n("LeadHunter: process user defined onBeforeAppear");bp.roistat.leadHunter.onBeforeAppear(ei);if(cN){dx()}}dr.setAttribute("style","left:20px;top:-20px;opacity:0");dE.className=dF;dr.className=df;if(ec!==null){ec.className=d0}if(cO!==null){cO.className=d2}if(cs!==null){cs.className=da}if(d9!==null){d9.setAttribute("style","");d9.className=cZ}dE.setAttribute("style","opacity:0;");cA=true;setTimeout(function(){dE.setAttribute("style","opacity:.5;")},10);var ej=h(bj);bA(cY,{visit_id:ej},"GET");if(bp.roistat.leadHunter.onAfterAppear){n("LeadHunter: process user defined onAfterAppear");bp.roistat.leadHunter.onAfterAppear(ej,dE,dr,ec);if(cN){dx()}}};var dH=function dp(){cy();cL=br();var ei=false;var ej=bp.onload;bp.onload=function(){if(ej){ej()}if(!ei){ei=true;n("LeadHunter: form initialized in window.onload");ct()}};setTimeout(function(){if(!ei){ei=true;n("LeadHunter: form initialized after timeout");ct()}},5000)};var d7=function c5(){n("LeadHunter: tuning appearance for page");if(!eh()){n("LeadHunter: disabled on page");d8.leave.isShowEnabled=false;clearTimeout(d8.timeoutId);if(cJ){cJ.className=cZ}}else{n("LeadHunter: enabled on page");d8.leave.isShowEnabled=true;c4();if(cJ){cJ.className=d8.pulsator.previousClass}}};var cR=function dA(){n("LeadHunter: processing single page application state change");cL=br();d7()};var dM=function dd(){X(cR);I(bp,"message",function ei(el){var ek=typeof el.data==="string"?el.data:el.data.message;if(ek===cC){dn()}if(ek===dG){dN.setAttribute("style","width: "+el.data.width+"px !important; height: "+el.data.height+"px !important;");dY()}if(ek===dX){var em=el.data.caughtLeadData;if(bp.roistat.leadHunter.onBeforeSubmit){n("LeadHunter: process user defined onBeforeSubmit");var ej=bp.roistat.leadHunter.onBeforeSubmit(em);if(ej){em=ej}}dN.contentWindow.postMessage({caughtLead:em,message:dt},cV)}if(ek===d4){if(bp.roistat.leadHunter.onAfterSubmit){n("LeadHunter: process user defined onAfterSubmit");bp.roistat.leadHunter.onAfterSubmit({name:el.data.name,phone:el.data.phone})}}})};function dx(){var ei={apiData:bp.roistat.leadHunter.form,message:dJ};dN.contentWindow.postMessage(ei,cV)}function dv(){if(!dI()){return}if(!cX()){return}n("LeadHunter: activated");dH();dM()}function dP(){return(bp.innerHeight?bp.innerHeight:s.documentElement.clientHeight==0?s.body.clientHeight:s.documentElement.clientHeight)}function ef(){return(bp.innerWidth?bp.innerWidth:s.documentElement.clientWidth==0?s.body.clientWidth:s.documentElement.clientWidth)}function dB(ek){ek=ek||event;cM=ek.clientY;var ei=cM/dP(),em=cF>0&&cF>ei,ej=ei<cI,el=(br()-cL)>d5*1000;if(em&&ej&&!cA&&el&&d8.leave.isShowEnabled){n("LeadHunter: show modal with because move up ("+cF+" -> "+ei+") and in modal zone and show on leave enabled");co("exit");cq();de(ek)}if(ei<cw){cF=ei}}function dY(ei){if(cp){dD()}else{ei=ei||event;de(ei)}}function de(el){var ei=el.clientX-Math.round(dr.clientWidth/2)||dr.offsetLeft;ei=Math.max(20,Math.min(ei,ef()-dr.offsetWidth-20));var em=ei+dr.offsetWidth>ef()-40;if(em){var ej=(ei+dr.clientWidth-20)-(ef()-40);ei=ei-ej}var ek=ef()-40>dr.offsetWidth?"":"width:"+(dr.offsetWidth-40)+"px;";dr.setAttribute("style","left:"+ei+"px; top: 0px; "+ek)}function cr(){bp.roistatSetCookie(cx,1,bM)}function dn(){cr();dE.setAttribute("style","opacity:0");dr.style.top="-"+dr.offsetHeight*2+"px";setTimeout(function(){dr.className=dE.className=cZ},500)}function c1(){var ew=s.getElementById("roistat-lh-phone-input"),ek=s.getElementById("roistat-lh-name-input"),em,eu;em=ew===null?"":ew.value;eu=ek===null?"":ek.value;var er={name:eu,phone:em,isNeedCallback:null,callbackPhone:null,fields:{}};if(bp.roistat.leadHunter.onBeforeSubmit){n("LeadHunter: process user defined onBeforeSubmit");var en=bp.roistat.leadHunter.onBeforeSubmit(er);if(en){er=en}}var et=er.phone.length<1;var ev=er.phone.indexOf("_")===-1;var ep=!et&&ev;var es=er.name.length<1;var ej=!es||!bp.roistat.leadHunter.form.isNameRequired;if(!ep){ew.setAttribute("style","border: 2px solid #E0571A;");return}if(!ej){ek.setAttribute("style","border: 2px solid #E0571A;");return}var ei=cj+"?v="+B+"&lead-hunt-input="+encodeURIComponent(er.phone)+"&lead-name="+encodeURIComponent(er.name)+"&visit="+bD();if(er.isNeedCallback!==null&&er.isNeedCallback!==aZ){ei=ei+"&is_need_callback="+(er.isNeedCallback>0?1:0)}if(er.callbackPhone){ei=ei+"&callback_phone="+er.callbackPhone}if(bp.roistat.leadHunter.additionalNotifyEmail!==null){ei=ei+"&additional_email="+encodeURIComponent(bp.roistat.leadHunter.additionalNotifyEmail)
}var el=0;if(er.fields&&typeof er.fields==="object"){for(var eo in er.fields){if(er.fields.hasOwnProperty(eo)){++el}}}if(el>0){ei=ei+"&fields="+d3(JSON.stringify(er.fields))}ei=ei+"&t="+br();var eq=s.createElement("img");eq.src=ei;ew.setAttribute("style","");cr();if(d9===null){dn();cW()}else{c3()}if(bp.roistat.leadHunter.onAfterSubmit){n("LeadHunter: process user defined onAfterSubmit");bp.roistat.leadHunter.onAfterSubmit({name:eu,phone:em})}}function db(ei){if(ei.preventDefault){ei.preventDefault()}else{ei.returnValue=false}dk.style.display==="block"?dk.style.display="none":dk.setAttribute("style","display: block; padding: 0 30px; width:"+dr.clientWidth+"px;");dY()}function ee(){eb.disabled===true?eb.disabled=false:eb.disabled=true;c8.style.display==="block"?c8.style.display="none":c8.style.display="block"}function cW(){s.onmousemove=null;dE.onresize=null}var cS=function(eo,er){if(!eo||!er){n("LeadHunter: skip phone mask render due to empty input or mask");return}n("LeadHunter: render phone mask "+er+" for input: "+eo.value);if(bp.roistatRenderPhoneMaskMutex){return}bp.roistatRenderPhoneMaskMutex=true;var el="_",ek="x",en="х",em=er.toLowerCase().split(ek).join(el).split(en).join(el);var ej=function(es){if(eo.setSelectionRange){eo.setSelectionRange(es,es)}else{if(eo.createTextRange){var et=eo.createTextRange();et.collapse(true);et.moveEnd("character",es);et.moveStart("character",es);et.select()}}};var ep=function(es){if(!es){return 0}var et=es.indexOf(el);if(et<0){return es.length}return et};var eq=function(es){ej(ep(es))};var ei=function(eB){var eC=em.split("");if(!eB){return em}var es=eB.split("");var eD=[],eA,ex,ez,ew,eu,et,ey;for(var ev=0;ev<eC.length;ev++){ex=eC[ev];if(ev>=es.length){eD.push(ex);continue}eu=((ev+1)<eC.length)?eC[ev+1]:null;et=((ev+1)<es.length)?es[ev+1]:null;ey=((ev+2)<es.length)?es[ev+2]:null;eA=es[ev];ez=parseInt(eA)>=0;ew=(ex===el)&&ez;if(!ew){eD.push(ex);continue}if(et===el&&eu!==el&&ey!==eu){eD.push(ex);continue}eD.push(eA)}return eD.join("")};setTimeout(function(){var es=ei(eo.value);if(eo.value!==es){eo.value=es}eq(es);bp.roistatRenderPhoneMaskMutex=false},1)};var dL=function(ei,ek,ej){bn.set(cG(),bs.encode(ei));bn.set(cQ,bs.encode(ek));bn.setObject(dO,ej)};var du=function(ei){dl=ei;if(dN===aZ){return}ch()};var ch=function(){var ei={language:dl,message:dK};dN.contentWindow.postMessage(ei,cV)};bC(dv);bp.roistatLeadHunterShow=c6;bp.roistatRenderPhoneMask=cS;bp.roistatSaveLeadHunterTemplates=dL;bp.roistat.leadHunter.localization.translateToRussian=function(){du(dT)};bp.roistat.leadHunter.localization.translateToEnglish=function(){du(ck)}})();(function m(){var ct=function(){return h(cb)};var cr=function(){return bn.get(aK)};var ck=function(){return bn.get(aT)};var cx=function(cz){return cz!=null&&cz!==aZ&&cz!==""};var cw=function(){var cz=[];var cA=s.getElementsByClassName(R);if(cA&&cA.length){cz=cA}return cz};var ci=function(){var cz=[];var cA=s.getElementsByClassName(r);if(cA&&cA.length){cz=cA}return cz};var ch=function(){var cz=[];var cA=s.getElementsByClassName(L);if(cA&&cA.length){cz=cA}return cz};var cm=function(){var cz=[];var cA=s.getElementsByClassName(u);if(cA&&cA.length){cz=cA}return cz};var cp=function(){var cz=[];var cA=s.getElementsByClassName(b4);if(cA&&cA.length){cz=cA}return cz};var cg=function(cL,cA){n("CallTracking: RenderPhone phone = "+cL);var cE=function(cN){return cN.split(/[^0-9]/).join("")};var cF=function(cQ,cS){var cV=null;if(!cQ){return cV}var cN=cS.split(",");if(cN.length<2){cV=cS}else{var cO=cQ.getAttribute("data-prefix");if(cO){for(var cR=0;cR<cN.length;cR++){var cT=cN[cR];var cU=cE(cT);if(cU.indexOf("8")===0){cU="7"+cU.substring(1)}var cP=cU.split(cO)[0]==="";if(cP){cV=cT;break}}}if(cV===null){cV=cN[0]}n("CallTracking._getPhoneForElement: Prepared phone = "+cV+" for data-prefix = "+cO)}return cV};var cD=function(cR,cP){var cN=cF(cR,cP);if(!cN||!cR){return}if(cR.tagName.toLowerCase()!=="a"){return}var cQ=cR.getAttribute("href");if(bX(cQ,"tel:")){var cO=cE(cN);if(cO.indexOf("8")===0){cO="7"+cO.substring(1)}cR.setAttribute("href","tel:+"+cO)}};var cH=function(cP,cO){var cN=cF(cP,cO);if(!cN||!cP){return}cP.innerHTML=cN};var cM=function(cN){var cO=cw();n("CallTracking: render phone default classes for "+cO.length+" elements");l(cO,function(cP){cH(cP,cN);cD(cP,cN)});l(ci(),function(cQ){var cP=cE(cF(cQ,cN)).slice(0,1);cH(cQ,cP)});l(ch(),function(cQ){var cR=cF(cQ,cN).match(/\((.*)\)/);if(cR!==null){var cP=cR[1];cH(cQ,cP)}});l(cm(),function(cR){var cP=cF(cR,cN).match(/\)(.*)/);if(cP!==null){var cS=cE(cP[1]);var cQ=cS.slice(-1*cS.length,-4)+"-"+cS.slice(-4,-2)+"-"+cS.slice(-2);cH(cR,cQ)}});l(cp(),function(cP){cD(cP,cN)})};var cK=function(cN,cS){if(!cS){return}n("CallTracking: render phone user replacement for "+cS.length+" replacements");for(var cR=0;cR<cS.length;cR++){var cU=cS[cR];if(!cU){continue}var cP=cU[0];cU=cU.substr(1);var cT=[];if(cP==="#"){var cQ=s.getElementById(cU);if(cQ!==null){cT.push(cQ)}}else{cT=s.getElementsByClassName(cU);cC(cU,cN)}if(!cT||cT.length<1){continue
}n("CallTracking: render phone for "+cU+", "+cT.length+" elements");for(var cO=0;cO<cT.length;cO++){cH(cT[cO],cN);cD(cT[cO],cN)}}};var cG=function(cN){for(var cO=0;cO<cN.length;cO++){cK(cN[cO].phone,cN[cO].css_selectors);cJ(cN[cO].phone,cN[cO].replaceable_numbers)}};var cJ=function(cP,cO){if(!cO||cO.length===0){return}var cN=function(){var c0=cT();var cZ=s.getElementsByTagName("*");var cU=cZ.length;for(var cY=0;cY<cU;cY++){var c1=cZ[cY];cQ(c1,c0,cF(c1,cP));var cX=c1.childNodes.length;for(var cV=0;cV<cX;cV++){var cW=c1.childNodes[cV];cS(cW,c0,cF(cW,cP))}}};var cQ=function(cY,cX,cU){if(!cR(cY)){return}var cZ=cY.getAttribute("href").replace("tel:","");var cW=cX.length;for(var cV=0;cV<cW;cV++){if(cX[cV].test(cZ)){cD(cY,cF(cY,cU))}}};var cR=function(cV){if(cV.tagName.toLowerCase()!=="a"){return false}var cU=cV.getAttribute("href");return at(cU)&&cU.indexOf("tel:")===0};var cT=function(){var cW=[];for(var cU=0;cU<cO.length;cU++){var cV="[\\s()[\\]{}\\-+.]*";var cX=cO[cU].split("").join(cV);cW.push(new RegExp("[+(]?"+cX,"g"))}return cW};var cS=function(cX,cW,cU){if(cX.nodeType!==Node.TEXT_NODE){return}for(var cV=0;cV<cW.length;cV++){if(cX.textContent&&cW[cV].test(cX.textContent)){cX.textContent=cX.textContent.replace(cW[cV],cU)}else{if(cX.innerText&&cW[cV].test(cX.innerText)){cX.innerText=cX.innerText.replace(cW[cV],cU)}}}};cN()};var cC=function(cO,cN){l(cB(cO+"-"+a5),function(cQ){var cP=cE(cF(cQ,cN)).slice(0,1);cH(cQ,cP)});l(cB(cO+"-"+aj),function(cQ){var cR=cF(cQ,cN).match(/\((.*)\)/);if(cR!==null){var cP=cR[1];cH(cQ,cP)}});l(cB(cO+"-"+aJ),function(cR){var cP=cF(cR,cN).match(/\)(.*)/);if(cP!==null){var cS=cE(cP[1]);var cQ=cS.slice(-1*cS.length,-4)+"-"+cS.slice(-4,-2)+"-"+cS.slice(-2);cH(cR,cQ)}});l(cB(cO+"-"+bf),function(cP){cD(cP,cN)})};var cB=function(cO){var cN=[];var cP=s.getElementsByClassName(cO);if(cP&&cP.length){cN=cP}return cN};var cI=function cI(){var cO=ck();if(cO){cO=cO.split("\n");for(var cN=0;cN<cO.length;cN++){cO[cN]="."+cO[cN]}}if(cA instanceof Array){cG(cA)}else{cM(cL);cK(cL,cO)}};(function cz(){cI();var cN=[300,5000,15000];cN.forEach(function(cO){setTimeout(cI,cO)})})()};var cj=function(cz){bn.save(j,cz,bM)};var cs=function(){if(bp.roistat.callTracking.phone){var cz={expires:parseInt(bp.roistat.callTracking.sessionTime),path:"/"};if(bM.domain){cz.domain=bM.domain}b5(cb,bp.roistat.callTracking.phone,cz);cj(1);bn.save(aT,bp.roistat.callTracking.replacementClasses,bM);bn.save(aK,bp.roistat.callTracking.phoneScriptsJson,bM)}};var cq=function(cz,cD,cB,cA){n("CallTracking: reuse phone "+cz+" for time "+cD+" and replacements "+cB);if(!cx(cz)){n("CallTracking: new phone is invalid");roistat.callTracking.phone=null;bZ();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=cz;roistat.callTracking.sessionTime=cD;roistat.callTracking.replacementClasses=cB;roistat.callTracking.phoneScriptsJson=cA;bZ();cs();var cE={expires:parseInt(cD),path:"/"};if(bM.domain){cE.domain=bM.domain}b5(cb,cz,cE);bn.save(aK,cA,bM);bn.save(aT,cB,bM);var cC=b1(cA);if(cC==null){cg(cz)}else{cg(cz,cC)}};var cl=function(){n("CallTracking: request new phone");var cz=h(bj);var cD=O();var cC=cD?cD:aU;var cB=encodeURIComponent(bB);var cA=x()+"/get-phone?visit="+cz+"&marker="+(cC?cC:"")+"&prefix="+bF+"&prefix_bind="+cc+"&phone_scripts_bind="+z+"&page="+cB;ao(cA)};var cn=function(){bF=bp.roistatPhonePrefix?bp.roistatPhonePrefix:"";cc=bp.roistatPhonePrefixBind?bp.roistatPhonePrefixBind:"";z=bp.roistatCalltrackingScripts&&bp.roistatCalltrackingScripts.join?bp.roistatCalltrackingScripts.join(","):"";n("CallTracking: refresh phone with prefix: "+bF+", binding: "+cc+", scripts: "+z);cl()};var cy=function(){var cz=bn.get(j)>0;var cA=bc.callTrackingEnabled;return cz&&cA};var co=function(cz){cj(cz.is_enabled)};var cv=function cv(){var cz=ct();if(!cx(cz)){n("CallTracking: invalid phone "+cz+", requesting a new one");cl()}else{n("CallTracking: render phone "+cz);var cA=b1(cr());if(cA==null){cg(cz)}else{cg(cz,cA)}}};var cu=function(){n("CallTracking: init");cs();if(!cy()){n("CallTracking: disabled, skip");return}if(bc.callTrackingManual){n("CallTracking: init finish because off manual");return}cv();X(cv)};bp.roistatCallTrackingRefresh=cn;bp.roistatRequestNewPhone=cl;bp.roistatReusePhone=cq;bp.roistatCalltrackingUpdateSettings=co;bC(cu)})();(function q(){var ci=function(co){n("Emailtracking: "+co)};var cm=function(co,cq,cp){bn.save(aS,co,bM);bn.save(b,cq,bM);bn.save(a2,JSON.stringify(cp),bM)};var ch=function(){var co=(bp.roistat.emailtracking.email&&bp.roistat.emailtracking.trackingEmail)||ak(bp.roistat.emailtracking.emails);if(bp.roistat.emailtracking.loaded&&co){ci("save loaded email: "+bp.roistat.emailtracking.email);cm(bp.roistat.emailtracking.email,bp.roistat.emailtracking.trackingEmail,bp.roistat.emailtracking.emails)}else{ci("settings save skip, because not loaded");bp.roistat.emailtracking.email=bn.get(aS);bp.roistat.emailtracking.email=bp.roistat.emailtracking.email?bp.roistat.emailtracking.email:null;bp.roistat.emailtracking.email=bp.roistat.emailtracking.email==="null"?null:bp.roistat.emailtracking.email;
ci("email loaded from storage: "+bp.roistat.emailtracking.email);bp.roistat.emailtracking.trackingEmail=bn.get(b);bp.roistat.emailtracking.trackingEmail=bp.roistat.emailtracking.trackingEmail?bp.roistat.emailtracking.trackingEmail:null;bp.roistat.emailtracking.trackingEmail=bp.roistat.emailtracking.trackingEmail==="null"?null:bp.roistat.emailtracking.trackingEmail;ci("tracking email loaded from storage: "+bp.roistat.emailtracking.trackingEmail);bp.roistat.emailtracking.emails=b1(bn.get(a2));bp.roistat.emailtracking.emails=bp.roistat.emailtracking.emails?bp.roistat.emailtracking.emails:null;ci("emails loaded from storage: "+JSON.stringify(bp.roistat.emailtracking.emails))}};var ck=function(co){cm(co.email,co.trackingEmail,co.emails)};var cj=function(){var co=(!!bp.roistat.emailtracking.email&&!!bp.roistat.emailtracking.trackingEmail)||ak(bp.roistat.emailtracking.emails);return bp.roistat.emailtracking.enabled&&co};var cg=function(){if(!cj()){ci("emailtracking disabled, skip swapping");return}var cp=function(ct,cu,cs){if(ct.href){if(cu.test(ct.href)){ct.href=ct.href.replace(cu,cs);return true}}if(ct.nodeType!==3){return false}if(ct.textContent&&cu.test(ct.textContent)){ct.textContent=ct.textContent.replace(cu,cs);return true}else{if(ct.innerText&&cu.test(ct.innerText)){ct.innerText=ct.innerText.replace(cu,cs);return true}}return false};var co=function(cs){return cs.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var cq=function(cu,ct){var cs=!ct.match(/[a-z]/);return cs?cu.toUpperCase():cu};var cr=function(cA,cC){var cD=co(cA);var cu=new RegExp("(^|\\s)(mailto:)?("+cD+")($|\\s|\\?)","gi");var cE=function(cJ,cH,cF,cG,cI){cF=cF||"";return cH+cF+cq(cC,cG)+cI};ci("starting to replace email "+cA+" to "+cC+" with regexp "+cu);var ct=s.getElementsByTagName("*");var cw=ct.length;ci("found "+cw+" nodes on page");var cz=0;for(var cy=0;cy<cw;cy++){var cv=ct[cy];var cB=cv.childNodes.length;if(cB>0){for(var cx=0;cx<cB;cx++){var cs=cv.childNodes[cx];if(cp(cs,cu,cE)){cz++}}}if(cp(cv,cu,cE)){cz++}}ci("successfully replaced "+cz+" nodes")};if(bp.roistat.emailtracking.emails){aM(bp.roistat.emailtracking.emails,cr)}else{cr(bp.roistat.emailtracking.email,bp.roistat.emailtracking.trackingEmail)}};var cl=function(){ci("process email swap");cg();setTimeout(function(){cg()},300);setTimeout(function(){cg()},5000);setTimeout(function(){cg()},15000)};var cn=function(){ci("init");X(cl);ch();cl()};bp.roistatEmailtrackingUpdateSettings=ck;bp.roistat.emailtracking.refresh=cg;bC(cn)})();(function aO(){var cj=function(cl){n("MultiDomain: "+cl)};var ci=function(){return bn.get(bN)>0};var ch=function(cp){var cq=function(cs){if(!cs){return false}if(bX(cs,"roistat_visit")){return false}var cr=aA(cs);var cu=aA(s.domain);var ct=new RegExp(/^(https?:\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return cr!==cu&&ct.test(cs)};var co=function(cu){var cv=cu.split("#");var ct=cv[0].split("?");var cr="";var cs="";if(ct.length===2){cr=ct[1]}if(cr){cs="&"}cr=cr+cs+"roistat_visit="+roistat.getVisit();ct[1]=cr;cv[0]=ct.join("?");return cv.join("#")};if(cp.tagName.toLowerCase()!=="a"){return}var cn=cp.getAttribute("href");var cm=false;if(cq(cn)){var cl=co(cn);cj("update url "+cn+" > "+cl);cp.setAttribute("href",cl);cm=true}return cm};var cg=function(){if(!ci()){cj("disabled, skip");return}var cl=s.getElementsByTagName("a");var cm=cl.length;cj("found "+cm+" <a> nodes on page");var cp=0;for(var cn=0;cn<cm;cn++){var co=cl[cn];if(ch(co)){cp++}}cj("replaced "+cp+" nodes")};var ck=function(){cj("init");cg();setTimeout(function(){cg()},300);setTimeout(function(){cg()},5000);setTimeout(function(){cg()},15000)};bC(ck)})();(function bU(){var co=5*60*1000;var ch="roistat_last_settings_update_time";var cg=function(cq){n("SettingsUpdater: "+cq)};var ck=function(){return bn.get(ch)};var cm=function(){bn.set(ch,br())};var cn=function(){var cr=ck();var cq=!(cr>0);cg("is first update check: lastUpdateTime="+cr+", result="+(cq?1:0));return cq};var cp=function(){var cs=br()-co;var cr=ck();var cq=cr<cs;cg("expiration check: _minTime="+cs+", lastUpdateTime="+cr+", result="+(cq?1:0));return cq};var cj=function(){var cq=h(bj);a(cq)};var ci=function(cq){cg("update settings and save last update time");bp.roistatCalltrackingUpdateSettings(cq.calltracking);bp.roistatEmailtrackingUpdateSettings(cq.emailtracking);bp.roistatSaveLeadHunterTemplates(cq.leadhunter_templates.form_template,cq.leadhunter_templates.pulsator_template,cq.leadhunter_templates.pulsator_settings);bp.roistatSaveProxyFormSettings(cq.proxy_forms);aD(cq.js_settings);bl.isSettingsUpdating=false;cm()};var cl=function(){cg("init");if(cn()){cg("in first update we just start first timer and skip");cm();return}if(!cp()){cg("update is not not expired, skip");return}cg("start to update settings");cj()};bC(function(){bp.roistatUpdateSettings=ci;setTimeout(function(){cl()},3000);cg("set interval to update settings");var cq=ax();var cr=cq.slice(-1);if(cr.charCodeAt(0)%100===0){cg("Project in focus group, set interval");
setInterval(function(){cl()},60000)}})})();(function a9(ck,cg,cm){var cj={};var ch=function(co){var cn=encodeURIComponent?encodeURIComponent:encodeURI;return cn(co)};var ci=function(cu,co){n("Reach goal start");if(!cu){cu={}}var cr={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:bD(),is_skip_sending:0,items:""};for(var cq in cr){if(!Object.prototype.hasOwnProperty.call(cr,cq)){continue}if(!Object.prototype.hasOwnProperty.call(cu,cq)){continue}if(!cu[cq]){continue}if(cq==="fields"||cq==="client_fields"||cq==="items"){cu[cq]=JSON.stringify(cu[cq])}cr[cq]=ch(cu[cq])}var ct=ax();var cs=aC()+"//"+o+"/api/site/"+J+"/"+ct+"/reach-goal?v=2";for(var cp in cr){if(!Object.prototype.hasOwnProperty.call(cr,cp)){continue}cs=cs+"&"+cp+"="+cr[cp]}if(co!==cm){var cn=Math.random().toString();cj[cn]=co;cs+="&callback_key="+cn}ao(cs);n("Reach goal completed")};var cl=ck.roistatGoal={reach:function(co,cn){ci(co,cn)},callAfterReachCallback:function(cn){if(Object.prototype.hasOwnProperty.call(cj,cn)){cj[cn]();delete cj[cn]}}}})(bp,s,aZ);(function b7(ci,cg,cj){var ch=function(co){if(co instanceof Array||co===null||typeof co!=="object"){n("Invalid event data");return""}var cl=[];for(var cn in co){if(Object.prototype.hasOwnProperty.call(co,cn)){var cm=co[cn];if(typeof cm==="string"||typeof cm==="number"){cl.push("data["+encodeURIComponent(cn)+"]="+encodeURIComponent(cm))}else{n("Event data property ignored: "+cn)}}}return cl.length>0?"&"+cl.join("&"):""};var ck=function(cn,co){n("Send event start");var cl=k();var cm=x()+"/event/register?visit="+cl+"&event="+cn+ch(co);ao(cm);n("Send event completed")};ci.roistat.event={send:function(cl,cm){ck(cl,cm)}}})(bp,s,aZ);(function bo(cq,cs,cj){var ct=cq.roistatIsInitVisit===true?20000:10000;var ci=(new Date()).getTime();var ch=function(cx){return"approve_visit_"+cx};var cp=function(cx){bg.set(ch(cx),1)};var cu=function(cx){return bg.get(ch(cx))>0};var cg,cl,cw=[];if(cs.addEventListener){cg=function(cy,cx,cz){return cy.addEventListener(cx,cz,false)};cl=function(cy,cx,cz){return cy.removeEventListener(cx,cz,false)}}else{cg=function(cy,cx,cz){return cy.attachEvent("on"+cx,cz)};cl=function(cy,cx,cz){return cy.detachEvent("on"+cx,cz)}}var co=function(cA){if(cw.length>30){return}cA=cA||cq.event;if(!cA||!cA.screenX){return}var cz=(new Date()).getTime();var cC,cB=null;if(cw.length>0){cB=cw[cw.length-1]}if(cB){cC=cz-cB.time}else{cC=cz-ci}if(cC<300){return}cC=cC-300;var cE=0;var cx=cA.screenX;var cD=cA.screenY;if(cB){cE=parseInt(Math.sqrt(Math.pow(cB.y-cD,2)+Math.pow(cB.x-cx,2)))}var cy={time:cz,pauseBeforeMove:cC,x:cx,y:cD,distance:cE};cw.push(cy)};var cn=function(){var cx=[];l(cw,function(cy){var cz=[cy.pauseBeforeMove,cy.distance];cx.push(cz.join(":"))});if(cx.length===0){cx.push("0:0")}return cx.join("|")};var ck=function(){for(var cx in cq){if(bX(cx,"yaCounter")){return true}}return false};var cr=function(){cl(cs,"mousemove",co);var cx=k();n("VisitApprove: start for visit "+cx);if(cu(cx)){n("VisitApprove: visit already approved, skip");return}cp(cx);Z();var cy=x()+"/approve?v="+B+"&visit="+cx;if(cv()){cy+="&hash="+T()}if(cm()){cy+="&page_params="+encodeURIComponent(JSON.stringify(cq.roistat.page.params));e()}cy+="&mv="+cn();cy+="&pl="+(cq.navigator?cq.navigator.platform:"");cy+="&ym="+(ck()?"1":"0");ao(cy)};var cv=function(){var cB=bl.cookies,cA=i();var cD=aG();for(var cy=0;cy<cD.length;cy++){var cC=cD[cy];var cE=Object.prototype.hasOwnProperty.call(cB,cC)?cB[cC]:cj;var cx=Object.prototype.hasOwnProperty.call(cA,cC)?cA[cC]:cj;var cz=typeof cx==="string"&&cx.length>0;if(cz&&cE!==cx){return true}}return false};var cm=function(){var cC=bl.pageParams,cz=cq.roistat.page.params;for(var cy=0;cy<bG.length;cy++){var cx=bG[cy];var cA=Object.prototype.hasOwnProperty.call(cC,cx)?cC[cx]:null;var cB=Object.prototype.hasOwnProperty.call(cz,cx)?cz[cx]:null;if(cB!==cA){return true}}return false};setTimeout(function(){cr()},ct);cg(cs,"mousemove",co)})(bp,s,aZ);(function Y(cl,cm,ch){var cj=function(){return D("roistat_ab_demo")==="1"};var cn=function(cq){return new RegExp(cq.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var ck=function(cv){var cq=cl.location.href,ct=cv.filter,cz=cv.filterValue;var cw;switch(ct){case"except":case"pages":var cr,cy,cx=false;cy=cq?ai(cq):"";cw=cz?cz.split("\n"):[];if(cy&&cw.length!==0){for(var cs=0;cs<cw.length;cs++){var cu=cw[cs].trim();if(cu.length===0){continue}cr=cn(cu);if(cr.test(cy)){cx=true;break}}}return(ct==="pages")?cx:!cx;break;case"all":default:return true}};var cg=function(cs){var cq=cm.getElementsByTagName("head")[0],cr;cr=cm.createElement("style");cr.setAttribute("type","text/css");if(cr.styleSheet){cr.styleSheet.cssText=cs.value}else{cr.innerText=cs.value}cq.appendChild(cr)};var ci=function(cq){if(ck(cq)){switch(cq.type){case"css":cg(cq);break}}};cl.applyTests=function(){var cq=bn.getObject("abTesting");var cs,cr;for(cs in cq){if(!Object.prototype.hasOwnProperty.call(cq,cs)){continue
}cr=cq[cs];ci(cr)}};var co=function(){n("Call: apply demo AB test");var cq=D("roistat_ab_data");var cr;if(cq===null){return}else{cr=JSON.parse(bs.decode(cq))}if(typeof cr!=="object"){n("Error: testValue is not an object.");return}ci(cr)};function cp(){var cq=cj();if(!bR&&!cq){applyTests()}if(cq){co()}}cp()})(bp,s,aZ);(function aE(ch,cg,ci){if(!bT){return}setTimeout(function(){(function(cp,co,cs,cr,cm,ck,cn){cp[cm]={COUNTER_ID:ck,HOST:cn};var cl=co.location.protocol=="https:"?"https://":"http://";var cj=co.createElement(cs);cj.async=1;cj.src=cl+cn+cr;var cq=co.getElementsByTagName(cs)[0];cq.parentNode.insertBefore(cj,cq)})(ch,cg,"script","/counter.js","datamap",ax(),bT)},1000)})(bp,s,aZ);(function bm(ci,cg,cj){var ck=function(){var cl=ci.roistatMetrikaCounterId;if(cl){bn.set(aq,cl)}};var ch=function(cq){var cl="yaCounter"+cq;var cp=100,cn=0,co=60000;var cm=function(){cn+=cp;n("YandexMetrika: trying to access counter "+cq);if(ci[cl]===cj){if(cn<co){setTimeout(cm,cp);cp*=2}return}var cr={};cr[bJ]=k();ci[cl].params(cr);n("YandexMetrika: visit id "+cr[bJ]+" sent to counter "+cq)};setTimeout(cm,cp)};bC(function(){ck();var cn=bn.get(aq);if(!cn){n("YandexMetrika: counter id not found");return}var cm=String(cn).split(",");n("YandexMetrika: counters: "+cm);for(var cl=0;cl<cm.length;cl++){if(cm[cl].trim()===""){continue}ch(cm[cl])}})})(bp,s,aZ);(function U(co,cs){var cw=function(cy){n("Proxy Forms: "+cy)};var cl=function(){if(co.roistat.proxyForms.loaded&&co.roistat.proxyForms.settings.length>0){cw("save loaded settings");ct(co.roistat.proxyForms.settings)}else{cw("settings not loaded, getting from storage");co.roistat.proxyForms.settings=bn.getObject(b6)||[]}};var ct=function(cy){bn.setObject(b6,cy)};var cp=function(){cw("init form listener");ci(co.roistat.proxyForms.settings);cg(co.roistat.proxyForms.settings)};var cg=function(cy){var cA=[];l(cy,function(cB){if(cB.type==="js-button"){cA.push(cB)}});if(cA.length<1){cw("no button settings");return}var cz;if(cs.addEventListener){cz=function(cB){ck(cA,cB,cB.target,cj)};cs.addEventListener("click",cz,true)}else{if(cs.attachEvent){cz=function(){var cB=co.event;ck(cA,cB,cB.srcElement,cj,true)};cs.attachEvent("onclick",cz)}else{cw("Listener could not be attached")}}};var ci=function(cz){var cy=[];l(cz,function(cB){if(cB.type==="form"){cy.push(cB)}});if(cy.length<1){cw("no form settings");return}if(cs.addEventListener){var cA=function(cB){ck(cy,cB,cB.target,cx)};cs.addEventListener("submit",cA,true)}else{if(cs.attachEvent){setInterval(function(){var cB=cs.getElementsByTagName("form");l(cB,function(cC){if(cC.getAttribute("data-roistat-proxy-form-checked")==="true"){return}cC.setAttribute("data-roistat-proxy-form-checked","true");l(cy,function(cD){if(ch(cC,cD.selector)){cC.attachEvent("onsubmit",function(){co.event.returnValue=false;cx(cD,co.event.srcElement)})}})})},2000)}else{cw("Listener could not be attached")}}};var ck=function(cB,cC,cD,cA,cy){var cz=null;l(cB,function(cE){if(ch(cD,cE.selector)){cz=cE}});if(cz===null){cw("No matched settings found for listener");return}cA(cC,cz,cD,cy)};var cx=function(cC,cA,cB,cz){var cy=cr(cB,cA);if(!cu(cy,cA)){return}cz?cC.returnValue=false:cC.preventDefault();cm(cy,cA,function(){HTMLFormElement.prototype.submit.call(cB)})};var cj=function(cA,cz){var cy=cr(null,cz);if(!cu(cy,cz)){return}cm(cy,cz)};var cm=function(cy,cB,cD){var cC={};var cA=cn(cB.crm)&&cB.crm.hasOwnProperty("is_enabled");var cz=cA?cB.crm.is_enabled:true;cC.leadName="Новый лид с формы "+cB.title;cC.formTitle=cB.title;cC.name=cy.name;cC.phone=cy.phone;cC.email=cy.email;cC.text=cy.comment;cC.fields=cy.fields;cC.is_need_callback=cB.is_need_callback;cC.is_skip_sending=!cz;co.roistatGoal.reach(cC,cD)};var cn=function(cy){return(typeof cy==="number"&&!isNaN(cy))||(typeof cy==="string"&&cy!=="")||(typeof cy==="object"&&cy!==null)||(typeof cy==="boolean"&&cy)||aR(cy)};var cu=function(cy,cA){var cz=[],cC=["name","email","phone","comment"];l(cC,function(cD){if(cA.hasOwnProperty(cD)&&cA[cD].required>0){cz.push(cD)}});if(aR(cA.fields)){l(cA.fields,function(cD){if(cD.required>0){cz.push(cD)}})}var cB=true;l(cz,function(cD){if(!cy.hasOwnProperty(cD)||!cn(cy[cD])){cB=false}});return cB};var cr=function(cA,cz){var cy={};cy.name=cz.name?cq(cA,cz.name.value,cz.name.type):"";cy.phone=cz.phone?cq(cA,cz.phone.value,cz.phone.type):"";cy.email=cz.email?cq(cA,cz.email.value,cz.email.type):"";cy.comment=cz.comment?cq(cA,cz.comment.value,cz.comment.type):"";cy.fields={};if(aR(cz.fields)){l(cz.fields,function(cB){cy.fields[cB.name]=cq(cA,cB.value,cB.type)})}return cy};var cq=function(cz,cC,cy){switch(cy){case"plain":return cC||"";case"input":var cB=cz.querySelector('input[name="'+cC+'"]');return cB?cB.value:"";case"js":try{return(new Function(cC))()}catch(cA){return""}}};var cv=function(){cw("init");if(!co.roistat.proxyForms.enabled){cw("disabled");return}cl();cp()};var ch=function(cA,cy){if(typeof Element!=="undefined"&&Element.prototype.matches){return cA.matches(cy)}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){return cA.matchesSelector(cy)
}else{if(cs.querySelectorAll){var cB=cs.querySelectorAll(cy);for(var cz=0;cz<cB.length;cz++){if(cB[cz]===cA){return true}}return false}}}return false};bC(cv);co.roistatSaveProxyFormSettings=ct})(bp,s);(function w(){if(bp.onRoistatAllModulesLoaded!==aZ&&typeof bp.onRoistatAllModulesLoaded==="function"){bp.onRoistatAllModulesLoaded()}})();(function ay(cn,cq,ck){var cg=function(){return bn.get(P)*1>0};var cp=function(cw){n("Request listener: "+cw)};const cv=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;const co=/^[^\s]+[@][^\s]+$/g;const cj=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var ci=function ci(){cp("listen");if(cn.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function cy(cB){var cA=this;cr(cA.responseURL,cB,function(){cA.oldSend(cB)})}XMLHttpRequest.prototype.send=cy}if(cn.ActiveXObject){var cx=cz;function cz(cC){var cA=new cx(cC);var cD={};if(cC.toLowerCase()=="msxml2.xmlhttp"){cD={_ax:cA,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var cB="";cD._onReadyStateChange=function(){var cE=cD;return function(){cE.readyState=cE._ax.readyState;if(cE.readyState==4){cE.responseText=cE._ax.responseText;cE.responseXml=cE._ax.responseXml;cE.status=cE._ax.status;cE.statusText=cE._ax.statusText}if(cE.onReadyStateChange){cE.onReadyStateChange()}}}();cD.open=function(cI,cG,cH,cE,cF){cB=cG;cH=(cH!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(cI,cG,cH,cE,cF)};cD.send=function(cE){var cF=this;cr(cB,cE,function(){this._ax.send(cE)})}}else{cD=cA}return cD}cn.ActiveXObject=cz}if(cn.fetch){var cw=fetch;fetch=function(cA,cB){cr(cA.url,cB||{});return cw(cA,cB||{})}}cn.addEventListener("submit",function(cD){var cF=cD.target.elements;var cE={};for(var cC=0;cC<cF.length;cC++){var cB=cF[cC];var cA=cB.getAttribute("name");cE[cA]=cB.value}cr("",cE)})};function cl(cw){var cz={};if(cw.length===0){return cz}var cy=cw.split("?");if(cy.length<2){return cz}var cx=cy[1];cz=ch(cx);return cz}function ch(cx){var cy=cx.split("&"),cA={};for(var cw=0;cw<cy.length;cw++){var cz=cy[cw].split("=");if(cz.length<2){continue}cA[cz[0]]=cz[1]}return cA}function ct(cN){cp("data: "+JSON.stringify(cN));var cG={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"],};var cD={email:"",phone:"",name:"",};for(var cw in cG){var cJ=cG[cw];for(var cI in cJ){if(cJ.hasOwnProperty(cI)){if(cN.hasOwnProperty(cJ[cI])){cD[cw]=cN[cJ[cI]];break}}}}cp("new data: "+JSON.stringify(cD));const cy=cD.phone.length===0;const cC=cD.email.length===0;if(!cy&&!cC){return cD}var cx=new RegExp(co);var cB=new RegExp(cv);var cE=Object.keys(cN);for(var cK=0;cK<cE.length;cK++){var cH=decodeURIComponent(String(cN[cE[cK]]));if(cC){var cz=cH.match(cx);if(cz&&cz.length>0){var cF=cD.email;cD.email=cz[0];cp("parsing email, before: "+cF+", after: "+cD.email)}}if(cy){var cM=cH.replace(/[\s-.()+*_—:;'"`]/g,"");var cL=cM.match(cB);if(cL&&cL.length>0){var cA=cD.phone;cD.phone=cH;cp("parsing phone, before: "+cA+", after: "+cD.phone)}}}return cD}var cm=function(cw){var cx=aA(cw);return !V(cj,cx)};function cr(cy,cx,cw){if(cy.length>0&&!cm(cy)){return}var cA=cl(cy);var cC=cx;if(typeof cC==="string"){cC=ch(cC)}cp("data before parsing "+JSON.stringify({get:cA,post:cC}));var cB=ct(cA);var cz=ct(cC);cp("data after parsing "+JSON.stringify({get:cB,post:cz}));cs(cB,cz,cw)}function cs(cw,cy,cC){var cB=cw.email.length>0?cw.email:cy.email;var cx=cw.phone.length>0?cw.phone:cy.phone;var cA=cw.name.length>0?cw.name:cy.name;if(cB.length==0&&cx.length==0){cC();return}setTimeout(function(){cC()},100);var cz={leadName:"Автоматический лид с сайта",name:cA,phone:cx,email:cB,is_skip_sending:1};cp("phone or email is not empty, reaching goal "+JSON.stringify(cz));roistatGoal.reach(cz)}(function cu(){if(!cg()){cp("disabled, skip");return}ci()})()})(bp,s,aZ)})(window,document,undefined);